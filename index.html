<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta autocomplete="off">
    <meta font-family="Arial, Helvetica, sans-serif">
    <title>Bee Hive</title>
</head>

<body>
<H3>BEE HIVE</H3>
<p>Bee Hive inserts itself onto the NYT Spelling Bee web page, then tallies your <br>
found words onto the Spelling Bee HINTS grid.  This only works on computers, not<br>
phones.  Stay tuned; I may make a phone version later.<br><br>
To use this program, you must start it from a bookmarklet.  You only need to do the<br>
bookmarklet installation in step 1 once.  Afterwards just click on your bookmarklet<br>
while on the Spelling Bee web page.</p>
<ol>
	<li>From Bookmark manager, create a new bookmark.<br>
        <ul>
            <li>Press the Copy button below.<br>
                <input type="text" value="javascript:if (document.URL === 'https://www.nytimes.com/puzzles/spelling-bee') {
                    fetch('https://raw.githubusercontent.com/PostDoc71/SpellingBeeHelp/main/SpellingBoss.js')
                    .then(r => r.text()).then(t => eval(t))}
                    else {alert('This bookmarklet can only be launched from NYT Spelling Bee')}" id="myInput">
                <button title="Copy text for URL" onclick="copyURL('myInput')">Copy</button><br>
            <li>In Chrome and Edge: CTL-D, then [More].<br>
            <li>Paste the copied text into the URL box.</li>
        </ul>
        
        <dt>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;Name:  Bee Hive (or whatever)</dt>
        <dt>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;URL: copied text</dt><br>
    <li>To use:
        <ul>
            <li>Launch <button title="Click to start Spelling Bee" onclick="document.location='https://www.nytimes.com/puzzles/spelling-bee'">Spelling Bee</button></li><br>
            <li>Click the Bee Hive bookmarklet on your Bookmarks bar.</li>
        </ul>
</ol>

<p>This should ease the task of tallying your entries!</p>

<p>Happy Hiving!<br>postDoc71 (ie retired pediatrician as of age 71)</p>
  
<script>
    function copyURL(input) {
      var copyText = document.getElementById(input);
      copyText.select();
//   copyText.setSelectionRange(0, 99999); // For mobile devices
      // Copy the text inside the text field
      navigator.clipboard.writeText(copyText.value);
      return;
    }
</script>

<style>
    #bookmarklet {
        border: 1px solid black;
        width: 40ch;
        padding: 4px;
    }
    #lnk:link {
        color:darkblue;
        background-color: whitesmoke;;
        text-decoration: none;
    }
    #lnk:hover {
        color: darkred;
        background-color: whitesmoke;
        text-decoration: none;
    }
</style>

</body>
</html>

<!-- STUFF BELOW.  KINDLY IGNORE.
==========================================================================
    SEE getGeniusScore: SELECTS 8th ELEMENT
    document.querySelector('[title="Click to see todayâ€™s ranks"]').click();
    let modalList = await waitForElement('.sb-modal-list');
    let ranks = modalList.querySelectorAll('li');
    let geniusScore = ranks[8].innerText.replace(/\D/g, '');
    document.querySelector('.sb-modal-close').click();
    return geniusScore; 

    ALTERNATIVE OPENING FOR FETCHING HINTS PAGE
    fetch(hintsUrl).then(response => response.text()).then(html => {
        const div = document.createElement('div');
        div.innerHTML = html;                                         // translates string to DOM
        const hints = div.querySelector('.interactive-body > div');   // . = css selector; # = id selector
        main(hints);
    });
    
=============================================================================
<script type="text/javascript">
    window.gameData = {
        "today":{
            "expiration":1673942400,
            "displayWeekday":"Monday",
            "displayDate":"January 16, 2023",
            "printDate":"2023-01-16",
            "centerLetter":"v",
            "outerLetters":["a","e","g","i","n","w"],
            "validLetters":["v","a","e","g","i","n","w"],
            "pangrams":["weaving"],
            "answers":["weaving","agave","avenge","avenging","avian","eave","even","evening","gavage","gave","give","given","giving","naive","nave","vagina","vain","vane","vegan","veggie","vegging","vein","view","viewing","vine","waive","waiving","wave","waving","weave"],
            "id":25082,
            "freeExpiration":0,
            "editor":"Sam Ezersky"},
        "yesterday":{
            "displayWeekday":"Sunday",
            "displayDate":"January 15, 2023",
            "printDate":"2023-01-15",
            "centerLetter":"b",
            "outerLetters":["a","i","l","n","p","t"],
            "validLetters":["b","a","i","l","n","p","t"],
            "pangrams":["paintball"],
            "answers":["paintball","alibi","baba","bail","bait","ball","banal","banana","bilabial","bill","blab","blat","blatant","blin","blini","blip","labia","labial","pinball","tabla","tibia","tibial"],
            "id":20717,
            "freeExpiration":0,
            "editor":"Sam Ezersky"}}
    </script>
-->
